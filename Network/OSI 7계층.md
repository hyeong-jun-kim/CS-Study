# OSI 7계층

## OSI 7계층이란?
<img src="https://static.wixstatic.com/media/c176d5_53da7ef83add4274a64680fa53db748c~mv2.png/v1/fill/w_1297,h_883,al_c,q_90,enc_auto/c176d5_53da7ef83add4274a64680fa53db748c~mv2.png" height=300px weight=450px>

국제표준화기구(ISO)에서 개발한 모델로 네트워크 통신이 일어나는 과정을 7계층으로 나누어 설명한 것.

.

#### 계층을 나눈 이유
통신이 일어나는 과정을 단계 별로 파악할 수 있기 때문이다.
흐름을 한 눈에 알아보기 쉽고, 사람들이 이해하기 쉽고, 7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건드리지 않고도 이상이 생긴 단계만 고칠 수 있다.

```
PC방에서 롤을 하는데 연결이 끊겼다. 어디에 문제가 있는지 확인해 보자.

모든 컴퓨터에 문제가 있다면, 라우터의 문제(3계층 네트워크 계층)이거나 
광랜을 제공하는 회사의 회선 문제(1계층 물리 계층)일 가능성이 높다.

하나의 컴퓨터만 문제가 있다면, 롤 소프트웨어에 문제(7계층 애플리케이션 계층)일 수 있다.

롤 소프트웨어에 문제가 없다면, 스위치에 문제(2계층 데이터 링크 계층)일 수 있다.

이렇듯 다른 계층에 있는 장비나 소프트웨어를 건드리지 않고 문제를 해결할 수 있다.
```
.

---

## 계층 구조도

#### **Layer 1. 물리 계층 (Physical Layer)**
> 케이블, 리피터, 허브 등

최하위 계층으로 전기적, 기계적 특성을 이용해 통신 케이블 등으로 데이터를 전송하는 계층.

이 계층에서는 데이터를 단지 전달만 할 뿐 에러에 대해 신경쓰지 않는다.
통신 단위는 `비트`이다.

.

#### **Layer 2. 데이터 링크 계층 (Data Link Layer)**
> 브릿지, 스위치 등 / MAC

물리 계층을 통해 송수신되는 데이터의 오류와 흐름을 관리하여 안전한 데이터 전달을 수행할 수 있도록 도와주는 계층.

통신에서의 오류도 찾아주고, 오류가 있다면 데이터를 재전송하는 기능을 가지고 있다.
MAC 주소를 가지고 통신을 하며, 통신 단위는 `프레임`이다.

.

#### **Layer 3. 네트워크 계층 (Network Layer)**
> 라우터, L3 스위치 / IP, ICMP, IGMP

데이터를 목적지까지 가장 빠르고 안전하게 전달하는 계층, 즉 라우팅 단계.

주소(IP)를 정하고 경로(Route)를 선택하고 패킷을 전달하는 것이 가장 핵심인 계층이다.
통신 단위는 `패킷`이다.

.

#### **Layer 4. 전송 계층 (Transport Layer)**
> 게이트웨이 / TCP, UDP

종단 대 종단(End to end)간의 신뢰성있는 데이터를 주고 받게 하는 계층.

쪼개져 있는 데이터들을 원래대로 합쳐서 보내는 역할을 담당하며, 송신측에서 받은 데이터가 수신측까지 손실 없이 전송되었는지 여부도 확인한다.
데이터를 전송할 때 헤더에 송/수신지 포트번호를 포함하여 전송합니다
TCP의 통신 단위는 `세그먼트`, UDP의 통신 단위는 `데이터그램`이다.

.

#### **Layer 5. 세션 계층 (Session Layer)**
> SSH, TLS
> 
네트워크상 양쪽 연결을 관리하고 연결을 지속시켜주는 계층.

통신 연결은 포트 기반으로 구성하여 연결하며, 운영 체제가 통신을 하기 위한 세션 확립/유지/중단 과정을 해 준다.

.

#### **Layer 6. 표현 계층 (Presentation Layer)**
> JPEG, MPEG

전송하는 데이터의 표현방식을 결정하는 계층.
1. 데이터가 txt인지, jpg인지, mp4인지 구분하는 등의 역할
2. 송신자에서 온 데이터를 해석하기 위한 응용계층 데이터 부호화(인코딩)
3. 수신자에서 데이터의 압축을 풀수 있는 방식으로 된 데이터 압축
4. 데이터의 암호화와 복호화(디코딩)

.

#### **Layer 7. 응용 계층 (Application Layer)**
> HTTP, FTP, SMTP, POP3, IMAP, Telnet

애플리케이션(프로그램)이 네트워크에 접근할 수 있게 해주거나 프로토콜을 쉽게 사용할 수 있게 해주는 계층.

사용자를 위한 인터페이스를 제공하며, 사용자에게 보이는 유일한 계층. 메일 전송, 인터넷 접속 등의 작업을 수행할 수 있다.

.

---

## OSI 7계층 통신 과정

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbRTCDR%2FbtrjkjBAL6d%2FqYxukYBNTqmrr48g0m1ud0%2Fimg.jpg" height=500px weight=800px>

1. 출발지에서 데이터가 나갈 때는 7계층 부터 1계층 까지 거치게 되고, 이 때 각 계층을 거칠 때마다 해당 계층에 해당 하는 정보를 하위 계층에 전달해준다.
2. 목적지로 데이터가 들어갈 때는 1계층 부터 7계층 까지 거치게 되고, 이 때 해당 계층에 해당하는 정보를 읽고 제거한 다음 상위 계층으로 전달해준다.