# 대칭키 & 공개키

<br>

## 대칭키

* 사용자 또는 서버는 하나의 대칭 키를 만들어 서로 공유한다.
* 공유된 대칭 키를 이용해 보낼 메시지를 암호화하면, 받은 쪽에서 동일한 대칭 키로 메시지의 복호화를 진행해 정보를 습득한다.
* 결론적으로 암호화, 복호화 할 때 사용하는 키가 동일하기 때문에 대칭 키라고 하는 것이다. 
* 이 키를 안전하게 전달하는 것이 제일 중요하다.
* 보통 정보 교환이 완료되면 교환 당시 썼던 대칭 키는 폐기되고, 나중에 다시 접속할 때마다 새로운 대칭 키를 생성해서 사용한다.

<br>

## 공개키(비대칭키)

* 비대칭키 방식에서는 서버 또는 사용자가 Key pair(키 쌍)을 생성한다. 
* 키 페어는 공개 키와 개인키의 두 가지로 이루어진다.
* 공개 키와 개인 키는 서로 다른 키로 서로 페어인 키들로만 암호화한 메시지를 복호화가 가능하다.
* 공개 키는 말 그대로 '공개' 키므로 누구나 가질 수 있다.
* 개인 키는 말 그대로 개인이 소장하며 누구한테도 보여주면 안되는 중요한 키(파일)이다.
* 대칭키보다는 느리지만 보안이 더 좋다.

<br>

공개키 암호에도 문제가 있다. 공개키가 진짜인지 아닌지를 증명할 수 없다는 것이다.

예를 들어, 어떤 서버와 공개키 암호를 사용해서 통신을 시작하려 할 때 수신한 공개키가 본래 의도한 서버가 발행한 공개키인지를 어떻게 증명할 수 있는가?
 
도중에 공격자가 공개키를 바꿔치기 했을지도 모른다.

<br>

이 문제를 해결하는 데는 __인증 기관(CA: Certificate Authority)__ 과 그 기관이 발생하는 공개키 증명서가 이용되고 있다.
 
* 서버의 운영자가 인증 기관에 공개키를 제출한다.
* 인증 기관은 제출된 공개키에 디지털 서명을 하고 서명이 끝난 공개키를 만든다.
* 공개키 인증서에 서명이 끝난 공개키를 담는다.
* 서버는 이 인증 기관에 의해서 작성된 공개키 인증서를 클라이언트에 보내고 공개키 암호로 통신을 한다.

<br>

비대칭키 방식으로 서로를 인증하면 대칭 키 방식을 사용해 정보를 주고 받는다.
이러한 방식을 이용해 원격 접속 과정이 SSH를 통해 안전하게 이루어진다.

