# 클래스

클래스의 의미는 '객체(인스턴스)를 생성하기 위한 설계도'이다.
클래스를 정의하기 위해서는 아래와 같은 고려사항이 있다.

* 클래스명: 역할이 잘 드러나는 이름
* 멤버 변수: 메서드 수행에 도움이 되는 변수
* 메서드: 객체의 역할에 걸 맞은 책임을 수행하기 위한 행동(메시지)을 정의
* 접근 제어자: 캡슐화, 은닉화  
* 다형성과 상속: 유연한 설계를 위함
* 생성자: 객체 생성

> 클래스: 객체(인스턴스)를 생성하기 위한 설계도
> 인스턴스: 온갖 개념이 객체다. 메모리 상에서 생성되는 인스턴스도 객체다.
> 객체: 인스턴스란 클래스의 설계대로 메모리에 할당된 객체다.

<br>

## 생성자

생성자는 인스턴스가 생성될 때 호출되는 인스턴스 초기화 메서드다.
생성자 역시 메서드처럼 클래스 내에 선언되며, 생성자도 오버로딩이 가능해 하나의 클래스에 여러 개의 생성자가 존재할 수 있다.

생성자는 2가지 조건이 있다.

1. 생성자의 이름은 클래스의 이름과 같아야 한다.
2. 생성자는 리턴 값이 없다.

> new 연산자가 인스턴스를 생성하는 것이지 생성자가 인스턴스를 생성하는 것이 아니다.
> 생성자는 단지 인스턴스 변수(static 키워드가 붙지 않은 멤버 변수)들의 초기화에 사용되는 특별한 메서드다.

__결론은 멤버 변수 초기화에 사용되는 것이 생성자다__
 
__더 정확하게 말하면 인스턴스를 힙 메모리에 생성하는 것이 new 연산자다__

<br>

## 메서드

메소드를 정의할 때는 크게 몇 가지 정할 것이 있다.

* 접근제어자
* return 타입
* 메소드 이름
* 매개 변수
* 메서드 바디 내부 코드

메서드 앞에 static이 붙어 있으면 클래스 메서드, 붙어 있지 않으면 인스턴스 메서드다.
클래스 메서드에서는 인스턴스 메서드 호출이 불가능하고, 인스턴스 메서드에서는 클래스 메서드 호출이 가능하다.

<br>

## this

this 키워드에서는 2가지에 대해 알아보겠다.


#### this

> this : 인스턴스 자신을 가리키는 참조변수, 인스턴스의 주소가 저장된다. 모든 인스턴스 메서드에 지역변수로 숨겨진 채 존재한다.

#### this()

> this(), this(매개변수) : 생성자, 같은 클래스의 다른 생성자를 호출할 때 사용한다.

<br>


## 클래스 변수, 인스턴스 변수, 지역 변수

변수의 종류를 결정짓는 중요한 요소는 '변수의 선언된 위치'다.

```java
class Variables{
	int iv; //인스턴스 변수
    static int cv; //클래스 변수, static 변수
    
    void method(){
    
    	int lv=0; //지역 변수
    }
}
```

#### 인스턴스 변수

* 클래스 영역에 선언되며, 클래스의 인스턴스를 생성할 때 만들어진다.
* 인스턴스 변수의 값을 읽어 오거나 저장하기 위해서는 먼저 인스턴스를 생성해야 한다.
* 인스턴스는 독립적인 저장공간을 가지므로 서로 다른 값을 가질 수 있다.
* 인스턴스마다 고유한 상태를 유지해야 하는 속성의 경우, 인스턴스 변수로 선언한다.

#### 클래스 변수

* 클래스 변수를 선언하는 방법은 인스턴스 변수 앞에 static을 붙이기만 하면 된다.
* 인스턴스마다 독립적인 공간을 갖는 인스턴스 변수와는 달리, 클래스 변수는 모든 인스턴스가 공통된 저장공간(변수)을 공유한다.
* 한 클래스의 모든 인스턴스들이 공통적인 값을 유지해야 하는 속성의 경우, 클래스 변수로 선언해야 한다.
* 클래스 변수는 인스턴스 변수와 달리 인스턴스를 생성하지 않고도 언제라도 바로 사용 가능하다.
* 클래스가 메모리에 로딩될 때 생성되어 프로그램이 종료될 때까지 유지되며, public을 앞에 붙이면 같은 프로그램 내에서 어디서나 접근할 수 있는 전역 변수의 성격을 갖는다.

<br>


## 초기화 블럭

* 클래스 초기화 블럭 : 클래스 변수의 복잡한 초기화에 사용된다.
* 인스턴스 초기화 블럭 : 인스턴스 변수의 복잡한 초기화에 사용된다.

```java
class InitBlock {

     int num = 1; //프리미티브 타입의 명시적 초기화
     String name = new Name(); //참조형 변수의 명시적 초기화
     static {
         // 클래스 초기화 블럭
     }
     
     {
         // 인스턴스 초기화 블럭
     }
}
```

초기화 블럭 내에는 메서드 내에서와 같이 조건문, 반복문, 예외처리구문 등을 자유롭게 사용할 수 있으므로, 초기화 작업이 복잡하여 명시적 초기화만으로는 부족한 경우 초기화 블럭을 사용한다.

클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때 한 번만 수행되며, 인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때 마다 수행된다.

### 초기화 순서 정리

* 클래스 변수의 초기화 시점 : 클래스가 처음 로딩될 때 단 한 번 초기화. 프로그램 작동 시 단 한번!!!
* 인스턴스 변수의 초기화 시점 : 인스턴스가 생성될 때 마다 각 인스턴스 별로 초기화가 이루어진다.
* 클래스 변수의 초기화 순서 : 기본값 -> 명시적 초기화 -> 클래스 초기화 블럭
* 인스턴스 변수의 초기화 순서 : 기본값 -> 명시적 초기화 -> 인스턴스 초기화 블럭 -> 생성자

